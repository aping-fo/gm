<div xmlns:th="http://www.w3.org/1999/xhtml" class="pageHeader">
    <form id="pagerForm" onsubmit="return navTabSearch(this);" action="paid/payRetentionRate" method="post"
          onreset="$(this).find('select.combox').comboxReset()">
        <div th:fragment="searchBar">
            <input type="hidden" name="serverIds" th:value="${#strings.listJoin(request.serverIds,',')}"/>
            <input type="hidden" name="channelIds" th:value="${#strings.listJoin(request.channelIds,',')}"/>
            <input type="hidden" name="orderField" th:value="${request.orderField}"/>
            <input type="hidden" name="orderDirection" th:value="${request.orderDirection}"/>
            <input type="hidden" name="pageNum" th:value="${Pager.pageNum}"/>
            <input type="hidden" name="pageSize" th:value="${Pager.pageSize}"/>
            <div class="searchBar">
                <table class="searchContent">
                    <tr>
                        <td>
                            <div>
                                <div class="buttonContent">
                                    <a class="button" href="server/select"
                                       rel="serverselect" mask="true" lookupGroup=""><span>区服筛选</span></a>
                                </div>
                            </div>
                        </td>
                        <td>
                            渠道：
                            <select name="channelId">
                                <option value="">全部</option>
                                <option th:each="row,iterStat:${channelList}" th:selected="${row.channelId==request.channelId}" th:text="${row.channelName}" th:value="${row.channelId}"></option>
                            </select>
                        </td>
                        <td>包:
                            <select name="packageId">
                                <option value="">全部</option>
                                <option th:each="row,iterStat:${channelBagList}" th:value="${row.id}" th:text="${row.name}" th:selected="${row.id==request.packageId}"></option>
                            </select>
                        </td>
                        <td class="dateRange">
                            日期:
                            <input name="startDate" class="date readonly" readonly="readonly" type="text" value="" th:value="${request.startDate}">
                            <span class="limit">-</span>
                            <input name="endDate" class="date readonly" readonly="readonly" type="text" value="" th:value="${request.endDate}">
                        </td>
                        <td>
                            <div class="buttonActive">
                                <div class="buttonContent">
                                    <button type="submit">检索</button>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </form>
</div>
<div class="pageContent">
    <table class="table" width="100%" layoutH="137">
        <thead>
        <tr>
            <th>付费日期</th>
            <th>用户数</th>
            <th>1</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
            <th>5</th>
            <th>6</th>
            <th>7</th>
            <th>14</th>
            <th>30</th>
        </tr>
        </thead>
        <tbody>
        <tr th:if="${list.size()!=0}" th:each="row,iterStat:${list}">
            <td th:text="${#dates.format(row.reportDate, 'yyyy-MM-dd')}"></td>
            <td th:text="${row.userCount}"></td>
            <td th:text="${#strings.append(#strings.substring(row.oneDay*100,0,#strings.length(row.oneDay*100)-2),'%')}"></td>
            <td th:text="${#strings.append(#strings.substring(row.twoDay*100,0,#strings.length(row.twoDay*100)-2),'%')}"></td>
            <td th:text="${#strings.append(#strings.substring(row.threeDay*100,0,#strings.length(row.threeDay*100)-2),'%')}"></td>
            <td th:text="${#strings.append(#strings.substring(row.fourDay*100,0,#strings.length(row.fourDay*100)-2),'%')}"></td>
            <td th:text="${#strings.append(#strings.substring(row.fiveDay*100,0,#strings.length(row.fiveDay*100)-2),'%')}"></td>
            <td th:text="${#strings.append(#strings.substring(row.sixDay*100,0,#strings.length(row.sixDay*100)-2),'%')}"></td>
            <td th:text="${#strings.append(#strings.substring(row.sevenDay*100,0,#strings.length(row.sevenDay*100)-2),'%')}"></td>
            <td th:text="${#strings.append(#strings.substring(row.twoWeeks*100,0,#strings.length(row.twoWeeks*100)-2),'%')}"></td>
            <td th:text="${#strings.append(#strings.substring(row.oneMonth*100,0,#strings.length(row.oneMonth*100)-2),'%')}"></td>
        </tr>
        <tr th:if="${list.size()==0}"><td colspan="11" style="text-align: center">暂无数据</td></tr>
        </tbody>
    </table>
    <div th:replace="_include/pager"></div>
</div>
